# 产品需求文档 PRD｜星露谷物集图鉴（照片生成器）

## 0. 产品一句话

用户拍照/上传一张照片，系统把照片变成星露谷物语同款沉浸像素风，并从照片里识别一个物体，为它生成星露谷式“便签标签”（名称/类别/描述/数值），用户可编辑与拖拽摆放，最终保存到「珍藏」。

## 1. 目标与范围

### 1.1 目标（必须做到）

主界面完全是你给的图1.jpg(/Users/melin.zhu/Projects/my-project/memory_bank/图1.jpg)结构：标题木牌 + 两个按钮：捕物、珍藏（只有这两个可点）。

捕物流程：上传图片 → 自动识别多物体并框选 → 用户从物体栏选择一个物体 → 生成标签（先名称、再描述可重生成）→ 左侧实时预览最终图 → 保存到珍藏。

最终图与最终生成图.jpg视觉结构一致：

仅改变滤镜为像素风（不改变物体位置/构图）

物体旁出现星露谷式标签（名称/类别/描述/食物数值）

右上角星露谷式时间组件（含表盘指针会变）

金币固定 88888888

保存后在珍藏里可查看历史作品、点击放大查看。

### 1.2 非目标（本期不做）

不做多物体同时生成多个标签（你明确“只能同时选一个物品”）。

不做社交分享、云同步、账号体系（除非你后续补充）。

不做复杂相册分类、搜索（先把“生成+保存+查看”跑通）。

## 2. 核心体验原则（UI/交互必须遵循）

沉浸式星露谷感：所有按钮、框体、字体、动效节奏、点击反馈都要是星露谷味道（木框/像素描边/轻微弹起/“咔嗒”音效/页面切换像素淡入淡出）。

所见即所得：右侧改任何字段，左侧预览立即变；右侧切物体，左侧标签与内容立即跟着切。

少打扰：默认选最大物体、默认生成名称、描述按需生成（按钮触发）。

只允许选一个物体：所有交互都围绕“当前选中物体”展开，避免用户困惑。

## 3. 信息架构（页面总览）

只有三大页面：

主界面（图 1）

入口：捕物、珍藏

捕物界面（编辑工作台，2D）

左：图片预览区（识别框 + 标签实时渲染）

右上：标签编辑区（名称/类别/描述/食物数值/时间）

右下：物体选择栏（物品栏风格）

底部：更换照片、保存至珍藏箱

右上角：返回按钮

珍藏界面（作品库）

网格列表（缩略图）

点击进入“作品查看”弹层/页面（放大查看）

右上角：返回按钮

## 4. 详细交互与界面描述（逐屏）

### 4.1 主界面（图 1：星露谷物集图鉴）

#### 4.1.1 进入方式

用户打开 App/网页 → 直接进入主界面

#### 4.1.2 画面构成（必须与图 1 观感一致）

背景：星露谷式天空/云/远山/田野/房屋（静态或轻微动态）

顶部：木牌标题「星露谷物集图鉴」

中部：两个大按钮（木框+像素描边）

左：捕物（相机图标）✅可点击

右：珍藏（箱子图标）✅可点击

其他元素都不可点（纯装饰）

#### 4.1.3 交互

鼠标悬停/手指按下：按钮轻微下压 + 高亮描边 + 音效

点击 捕物 → 进入「捕物界面」

点击 珍藏 → 进入「珍藏界面」

### 4.2 捕物界面（核心编辑页）

#### 4.2.1 页面布局（你描述的“左预览 + 右编辑 + 下物品栏”）

A. 左侧：图片预览区（占屏幕约 60%）

进入捕物界面后，左侧区域分两种状态：

状态 1：未上传

中央一个大木框区域（空画布）

画布中间是一个可点击的“上传图片”占位卡（像素按钮风格）

文案：上传照片 / 拍照（可做两个小按钮，或一个按钮点开选择）

用户点击后弹出选择方式弹层（同星露谷弹层样式）：

拍照

从相册/本地选择

状态 2：已上传

左侧画布显示“实时预览最终效果图”（即像素滤镜后的图），并叠加两层可交互元素：

识别框层：对识别出的多个物体画框（不同颜色/描边样式），默认选中“最大物体”的框。

标签层：当前选中物体的星露谷便签（可拖拽/缩放）。

注意：即使预览是像素风，识别框也必须清晰可见（像素描边框，不要现代 UI 线框）。

B. 右侧上半：标签编辑区（占屏幕约 40% 的上半）

一个大木制信息面板（星露谷菜单风格），包含以下模块，所有修改都会立即反映到左侧预览：

时间模块（右上角同款时间组件编辑）

显示：星期几、日期、时间（如“上午 8:20”）、表盘（有指针）

交互：

时间输入框（小时/分钟，或滚轮式选择）

日期/星期（可只允许“自动”，也可允许修改；你要求允许修改则提供可编辑入口）

一键同步当前时间按钮：点一下立即取系统时间并刷新表盘指针与文案

联动：

用户改时间 → 左侧预览右上角时间 UI 实时变化（包括表盘指针角度）

名称（Name）

默认值：系统生成的星露谷风命名（例如“武汉热干面”“陈旧的木椅”）

交互：

单行输入框

输入时实时更新左侧标签标题

类别（Category）

默认值：系统推断（如“菜品/采集/家具/手工艺品”等）

交互：

下拉选择（星露谷菜单风格）

选择后实时更新左侧标签的类别行

描述（Description）

默认值：可为空（你要求按钮触发生成也可以；或首次进入默认生成一次，二选一）

交互：

多行文本框（用户可手输）

旁边一个按钮：AI生成描述

点击一次：生成一段 1–2 句话星露谷风描述

再点：重新生成（覆盖/或弹窗让用户选“覆盖/追加”——建议默认覆盖更简单）

描述输入/生成后，左侧标签描述实时刷新

食物数值（仅当类别=菜品/食物时显示）

两个字段：

Energy：0–200

Health：0–200

交互：

数值步进按钮（- / +）或滑杆

联动：

数值变化 → 左侧标签底部两行数值实时变化

C. 右侧下半：物体选择栏（物品栏）

一个“星露谷背包/物品栏”样式区域，展示本张图里识别到的物体列表。

表现形式：

多个格子（像素边框），每格一个物体缩略图（从原图裁切）+ 简短名称（可不显示也行）

默认选中：最大物体

选中态：格子高亮、轻微弹起、音效

交互规则（关键）：

用户点击任意格子 → 切换“当前选中物体”

切换后发生三处联动（必须同时发生）：

左侧：高亮框切到该物体；标签绑定到该物体位置（默认贴近该物体，可稍偏移）

右侧上方编辑区：名称/类别/描述/数值全部切到该物体的内容

左侧标签内容：同步切换为该物体的标签内容

你要求“图片中也只能生成一个标签”：因此物品栏是“选谁就给谁贴标签”，不是多选。

D. 顶部与底部按钮（页面控制）

右上角：返回按钮

点击 → 弹出确认弹层（星露谷对话框风格）：

文案：要返回主页吗？未保存的改动会丢失。

按钮：返回 / 取消

底部两个大按钮：

更换照片

点击 → 弹出选择方式（拍照/相册）

更换后：重新识别物体、重置物品栏、默认选最大物体、重新生成默认名称

若当前有未保存内容：先弹确认 更换后将丢失当前编辑，是否继续？

保存至珍藏箱

点击后流程（非常明确）：

进入保存中状态：按钮变灰，显示保存中...

保存完成：弹出星露谷式提示框 已放入珍藏！

提供两个按钮：

去珍藏看看 → 跳转珍藏页并定位到最新作品

继续捕物 → 留在捕物页（可继续换图）

#### 4.2.2 标签在左侧预览中的可编辑交互（你要求拖拽/缩放）

当左侧已经生成标签后：

拖拽

手指/鼠标按住标签任意空白处 → 可拖动

拖动时：标签半透明；松手后落位

约束：不能拖出画布（超出边界自动回弹）

缩放


桌面端：标签角落出现像素小把手（拖拽改变大小）

约束：最小不小于可读尺寸；最大不遮挡整个画面（超过则限制）

选中反馈

标签被选中时有像素描边高亮

点击画布空白处取消选中（不影响“当前物体选择”）

#### 4.2.3 识别框的交互（左侧点击切物体）

除了右侧物品栏，左侧也要能直接点框切换：

用户点击某个物体框 → 等价于点击右侧对应物品格子

同样触发三处联动（框高亮/编辑区切换/标签切换）

#### 4.2.4 异常与边界状态（必须有清晰反馈）

未识别到物体

左侧提示：没看清…再换张更清晰的照片试试？

右侧物品栏显示空态

仅保留：更换照片按钮可用；保存按钮不可用（置灰）

识别到太多物体（例如 >20）

物品栏分页/滚动（星露谷背包翻页按钮风格）

默认仍选最大物体

用户改了名称/描述后切换物体

规则：每个物体都有自己的“草稿状态”

切走再切回来，仍保留该物体的编辑内容（直到更换照片或返回不保存）

保存失败

弹窗：没能放进珍藏…再试一次？

按钮：重试 / 取消

### 4.3 最终图片规范（图 2）

保存的“作品”必须满足以下结构（无论用户怎么编辑）：

原照片构图不变

仅像素化滤镜，不移动、不重排、不添加新物体

标签便签（左侧或物体旁）固定结构

标题：名称（可编辑结果）

第二行：类别（可编辑/选择结果）

描述：1–2 句，星露谷口吻（可编辑或 AI 生成）

若类别=食物：

+Energy（0–200）

+Health（0–200）

右上角时间组件

显示星期/日期/时间 + 表盘（指针随时间变化）

时间来自用户编辑值（或一键同步当前时间）

金币固定

永远显示：88888888

### 4.4 珍藏界面（作品库）

#### 4.4.1 进入方式

主界面点击「珍藏」

或捕物保存成功后点击「去珍藏看看」

#### 4.4.2 页面布局

背景：星露谷菜单背景（木纹/布纹/像素装饰）

顶部：标题 珍藏

中部：作品网格（每格为作品缩略图）

缩略图应展示“最终图”（像素滤镜 + 标签 + 时间 + 金币）

每格可显示保存时间的小角标（可选）

#### 4.4.3 交互

点击某个作品 → 打开“作品查看”页面/弹层：

大图居中展示

右上角：返回（关闭查看回到网格）

右上角全局返回按钮：

返回主界面

你没提“删除/重命名/再次编辑”，本期可以不做；如果要加，我建议最小加一个：查看页里“删除”按钮（需二次确认）。

## 5. 文案与风格要求（仅需求，不涉及实现）

所有提示语、按钮文案都要“星露谷口吻”：短句、温柔、生活感

描述生成风格：像星露谷物语物品描述那样，轻松、有画面，1–2 句

允许中文优先（你示例是中文），但整体 UI 排版要支持中英文长度差异（避免溢出）

## 6. 数据保存内容（需求层面）

每个“珍藏作品”至少保存：

- 最终合成图（像素风效果 + 标签 + 时间组件 + 金币）
- 归属用户 ID（用于鉴权/排序）
- 创建时间（用于列表倒序显示）

原始图片与详细元数据（名称/类别/描述/数值/框/标签位置等）本期不落盘，如需后续追溯再补充。

## 7. 验收清单（你可以用来检查“是不是做对了”）

主界面只有“捕物/珍藏”可点，点击跳转正确。

捕物上传后自动出多个框，默认选最大物体。

右侧物品栏点击任一物体：左侧框高亮 + 右侧编辑区切换 + 左侧标签内容切换（同时发生）。

只能同时选一个物体，画面只出现一个标签。

改名称/类别/描述/数值/时间，左侧预览立刻同步。

标签可拖拽、可缩放、不能拖出画布。

右上角时间组件指针会随时间改变；金币始终 88888888。

保存后在珍藏里能看到缩略图，点开可放大查看。
